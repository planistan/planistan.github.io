let r;const m=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&m.decode();let w=null;function u(){return(w===null||w.byteLength===0)&&(w=new Uint8Array(r.memory.buffer)),w}function f(e,t){return e=e>>>0,m.decode(u().subarray(e,e+t))}let a=0;const d=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},A=typeof d.encodeInto=="function"?function(e,t){return d.encodeInto(e,t)}:function(e,t){const i=d.encode(e);return t.set(i),{read:e.length,written:i.length}};function b(e,t,i){if(i===void 0){const c=d.encode(e),g=t(c.length,1)>>>0;return u().subarray(g,g+c.length).set(c),a=c.length,g}let n=e.length,o=t(n,1)>>>0;const _=u();let s=0;for(;s<n;s++){const c=e.charCodeAt(s);if(c>127)break;_[o+s]=c}if(s!==n){s!==0&&(e=e.slice(s)),o=i(o,n,n=s+e.length*3,1)>>>0;const c=u().subarray(o+s,o+n),g=A(e,c);s+=g.written,o=i(o,n,s,1)>>>0}return a=s,o}let l=null;function p(){return(l===null||l.buffer.detached===!0||l.buffer.detached===void 0&&l.buffer!==r.memory.buffer)&&(l=new DataView(r.memory.buffer)),l}function W(e){return e==null}function q(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}function O(e,t){const i=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=a;let o=0;W(t)||(q(t,E),o=t.__destroy_into_raw());const _=r.compile(i,n,o);let s;return _[0]!==0&&(s=f(_[0],_[1]).slice(),r.__wbindgen_free(_[0],_[1]*1,1)),s}function R(e){const t=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=a,n=r.prql_to_pl(t,i);let o;return n[0]!==0&&(o=f(n[0],n[1]).slice(),r.__wbindgen_free(n[0],n[1]*1,1)),o}function S(e){const t=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=a,n=r.pl_to_prql(t,i);let o;return n[0]!==0&&(o=f(n[0],n[1]).slice(),r.__wbindgen_free(n[0],n[1]*1,1)),o}function D(e){const t=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=a,n=r.pl_to_rq(t,i);let o;return n[0]!==0&&(o=f(n[0],n[1]).slice(),r.__wbindgen_free(n[0],n[1]*1,1)),o}function U(e){const t=b(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=a,n=r.rq_to_sql(t,i);let o;return n[0]!==0&&(o=f(n[0],n[1]).slice(),r.__wbindgen_free(n[0],n[1]*1,1)),o}function v(e,t){e=e>>>0;const i=p(),n=[];for(let o=e;o<e+4*t;o+=4)n.push(r.__wbindgen_export_3.get(i.getUint32(o,!0)));return r.__externref_drop_slice(e,t),n}function j(){const e=r.get_targets();var t=v(e[0],e[1]).slice();return r.__wbindgen_free(e[0],e[1]*4,4),t}const y=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_compileoptions_free(e>>>0,1));class E{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,y.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_compileoptions_free(t,0)}get format(){return r.__wbg_get_compileoptions_format(this.__wbg_ptr)!==0}set format(t){r.__wbg_set_compileoptions_format(this.__wbg_ptr,t)}get signature_comment(){return r.__wbg_get_compileoptions_signature_comment(this.__wbg_ptr)!==0}set signature_comment(t){r.__wbg_set_compileoptions_signature_comment(this.__wbg_ptr,t)}constructor(){const t=r.compileoptions_new();return this.__wbg_ptr=t>>>0,y.register(this,this.__wbg_ptr,this),this}get target(){let t,i;try{const n=r.compileoptions_target(this.__wbg_ptr);return t=n[0],i=n[1],f(n[0],n[1])}finally{r.__wbindgen_free(t,i,1)}}set target(t){const i=b(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=a;r.compileoptions_set_target(this.__wbg_ptr,i,n)}}async function T(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const i=await e.arrayBuffer();return await WebAssembly.instantiate(i,t)}else{const i=await WebAssembly.instantiate(e,t);return i instanceof WebAssembly.Instance?{instance:i,module:e}:i}}function h(){const e={};return e.wbg={},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,i){let n,o;try{n=t,o=i,console.error(f(t,i))}finally{r.__wbindgen_free(n,o,1)}},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,i){const n=i.stack,o=b(n,r.__wbindgen_malloc,r.__wbindgen_realloc),_=a;p().setInt32(t+4*1,_,!0),p().setInt32(t+4*0,o,!0)},e.wbg.__wbindgen_init_externref_table=function(){const t=r.__wbindgen_export_3,i=t.grow(4);t.set(0,void 0),t.set(i+0,void 0),t.set(i+1,null),t.set(i+2,!0),t.set(i+3,!1)},e.wbg.__wbindgen_string_new=function(t,i){return f(t,i)},e.wbg.__wbindgen_throw=function(t,i){throw new Error(f(t,i))},e}function x(e,t){return r=e.exports,M.__wbindgen_wasm_module=t,l=null,w=null,r.__wbindgen_start(),r}function F(e){if(r!==void 0)return r;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=h();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const i=new WebAssembly.Instance(e,t);return x(i,e)}async function M(e){if(r!==void 0)return r;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL(""+new URL("prqlc_js_bg-BbdaXHaM.wasm",import.meta.url).href,import.meta.url));const t=h();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:i,module:n}=await T(await e,t);return x(i,n)}export{E as CompileOptions,O as compile,M as default,j as get_targets,F as initSync,S as pl_to_prql,D as pl_to_rq,R as prql_to_pl,U as rq_to_sql};
